<main class="cc-component container container-md" id="travel">
  <header class="cc-component__header">
    <div>
      <img src="/assets/img/{this.route_key}.png"/>
      <h2>{this.t('travel.title')}</h2>
    </div>
    <span class="cc-component__byline">{this.t('travel.byline')}</span>
    <div>
      <span class="cc-component__simple-toggle"
        onClick="{this.setSimple.bind(this)}">{this.t('component.labels.simple')}</span> |
      <span class="cc-component__simple-toggle"
        onClick="{this.setAdvanced.bind(this)}">{this.t('component.labels.advanced')}</span>
    </div>
  </header>

  <div class="cc-component__form">

    <div id="travel_add_vehicle">
      <button class="btn btn-default"
        onClick="{this.addVehicle.bind(this)}"
        rt-props="{disabled: this.vehicles_maxed}">
        <i class="fa fa-plus"></i>
      </button>
      {this.t('travel.add_vehicle')}
    </div>

    <div rt-repeat="vehicle in this.vehicles"
         class="cc-component__question cc-component__question--vehicle"
         key="{vehicle.id}">
      <select data-key="fuel_type" value="{vehicle.fuel_type}" onChange="{this.updateVehicle.bind(this, vehicle)}">
        <option value="1">{this.t('travel.gasoline')}</option>
        <option value="2">{this.t('travel.diesel')}</option>
      </select>
      <input class="form-control" data-key="miles"
        value="{vehicle.display_miles}"
        placeholder="{this.t('travel.miles_per_year')}"
        onChange="{this.updateVehicle.bind(this, vehicle)}"/>
      <div id="{vehicle.slider_id}"></div>
      <div class="question--vehicle__mpg-label">{vehicle.display_mpg} <i>{this.t('travel.miles_per_gallon')}</i></div>
      <span class="label label-danger"
        onClick="{this.removeVehicle.bind(this, vehicle)}"><i class="fa fa-minus"></i></span>
    </div>

    <div rt-if="this.simple">
      <div class="cc-component__question">
        <h3 class="cc-component__question-label">{this.t('travel.publictrans.label')}</h3>
        <input class="form-control"
          onChange="{this.updateFootprintInput.bind(this)}"
          value="{this.displayUserApiStateValue('publictrans')}"
          data-api_key="input_footprint_transportation_publictrans"
          class="cc-component__question-input--right"/>
      </div>
      <div class="cc-component__question">
        <h3 class="cc-component__question-label">{this.t('travel.air.label')}</h3>
        <input class="form-control"
          onChange="{this.updateFootprintInput.bind(this)}"
          value="{this.displayUserApiStateValue('airtotal')}"
          data-api_key="input_footprint_transportation_airtotal"
          class="cc-component__question-input--right"/>
      </div>
    </div>

    <div rt-if="!this.simple">
      <div class="cc-component__question">
        <h3 class="cc-component__question-label">{this.t('travel.publictrans.label')}</h3>
        <div class="cc-component__sub-question">
          <input class="form-control"
            onChange="{this.updateFootprintInput.bind(this)}"
            value="{this.displayUserApiStateValue('bus')}"
            data-api_key="input_footprint_transportation_bus"/>
          <div class="cc-component__sub-question-label">{this.t('travel.publictrans.bus')}</div>
        </div>
        <div class="cc-component__sub-question">
          <input class="form-control"
            onChange="{this.updateFootprintInput.bind(this)}"
            value="{this.displayUserApiStateValue('transit')}"
            data-api_key="input_footprint_transportation_transit"/>
          <div class="cc-component__sub-question-label">{this.t('travel.publictrans.transit_rail')}</div>
        </div>
        <div class="cc-component__sub-question">
          <input class="form-control"
            onChange="{this.updateFootprintInput.bind(this)}"
            value="{this.displayUserApiStateValue('commuter')}"
            data-api_key="input_footprint_transportation_commuter"/>
          <div class="cc-component__sub-question-label">{this.t('travel.publictrans.commuter_rail')}</div>
        </div>
        <div class="cc-component__sub-question">
          <input class="form-control"
            onChange="{this.updateFootprintInput.bind(this)}"
            value="{this.displayUserApiStateValue('intercity')}"
            data-api_key="input_footprint_transportation_intercity"/>
          <div class="cc-component__sub-question-label">{this.t('travel.publictrans.inter_city_rail')}</div>
        </div>
      </div>
      <div class="cc-component__question">
        <h3 class="cc-component__question-label">{this.t('travel.air.label')}</h3>
        <h4 class="cc-component__question-label">{this.t('travel.air.advanced_sub_label')}</h4>
        <div class="cc-component__sub-question">
          <input class="form-control"
            onChange="{this.updateFootprintInput.bind(this)}"
            value="{this.displayUserApiStateValue('airshort')}"
            data-api_key="input_footprint_transportation_airshort"/>
          <div class="cc-component__sub-question-label">{this.t('travel.air.short')}</div>
        </div>
        <div class="cc-component__sub-question">
          <input class="form-control"
            onChange="{this.updateFootprintInput.bind(this)}"
            value="{this.displayUserApiStateValue('airmedium')}"
            data-api_key="input_footprint_transportation_airmedium"/>
          <div class="cc-component__sub-question-label">{this.t('travel.air.medium')}</div>
        </div>
        <div class="cc-component__sub-question">
          <input class="form-control"
            onChange="{this.updateFootprintInput.bind(this)}"
            value="{this.displayUserApiStateValue('airlong')}"
            data-api_key="input_footprint_transportation_airlong"/>
          <div class="cc-component__sub-question-label">{this.t('travel.air.long')}</div>
        </div>
        <div class="cc-component__sub-question">
          <input class="form-control"
            onChange="{this.updateFootprintInput.bind(this)}"
            value="{this.displayUserApiStateValue('airextended')}"
            data-api_key="input_footprint_transportation_airextended"/>
          <div class="cc-component__sub-question-label">{this.t('travel.air.extended')}</div>
        </div>
      </div>
    </div>
  </div>

  <div class="cc-component__nav">
    <a onClick="{this.router.previous.bind(this.router)}" >{this.t('Previous')}</a>
    <a onClick="{this.router.next.bind(this.router)}" >{this.t('Next')}</a>
  </div>
</main>
