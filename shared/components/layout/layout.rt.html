<rt-require dependency="./../_user/forgot_password/forgot_password.component" as="ForgotPassword"/>
<rt-require dependency="./../flash_message/flash_message.component" as="FlashMessage"/>
<rt-require dependency="./../get_started/get_started.component" as="GetStarted"/>
<rt-require dependency="./../travel/travel.component" as="Travel"/>
<rt-require dependency="./../home/home.component" as="Home"/>
<rt-require dependency="./../food/food.component" as="Food"/>
<rt-require dependency="./../shopping/shopping.component" as="Shopping"/>
<rt-require dependency="./../footprint/footprint.component" as="Footprint"/>
<rt-require dependency="./../take_action/take_action.component" as="TakeAction"/>
<rt-require dependency="./../missing/missing.component" as="Missing"/>
<rt-require dependency="./../graphs/graphs.component" as="Graphs"/>
<rt-require dependency="./../leaders/leaders.component" as="Leaders"/>
<rt-require dependency="./../settings/settings.component" as="Settings"/>
<div id="cc_calculator_ui">
	<nav class="navbar navbar-default">
			<div id="cc_nav" rt-class="{'cc-nav__no-settings': !this.show_settings}">
				<div
					rt-repeat="route in this.router.main_routes"
					class="cc-nav__item"
					key="{route.key}"
					rt-class="{'cc-nav__item--active': this.current_route_name === route.route_name}"
					onClick="{this.goToRoute.bind(this, route)}">
					<img rt-if="(route.route_name !== this.current_route_name)" src="/assets/img/{route.key}-green.svg"/>
					<img rt-if="(route.route_name === this.current_route_name)" src="/assets/img/{route.key}-filled.svg"/>
					<div>{this.t(`${route.key}.title`)}</div>
				</div>

				<div
					class="cc-nav__item"
					id="settings_nav_item"
					rt-class="{'cc-nav__item--active': this.current_route_name === 'Settings'}"
					rt-if="this.show_settings"
					onClick="{this.goToSettings.bind(this)}">
				  <img src="/assets/img/settings.png"/>
					<div>{this.t(`settings.title`)}</div>
				</div>

			</div>
	</nav>
	<div rt-if="this.external_offset.banner_url" id="external_banner">
		<img src="{this.external_offset.banner_url}" rt-props="{style: this.external_offset.banner_style}"/>
	</div>
	<FlashMessage alerts="{this.alert_list}" type="shared"></FlashMessage>
	<main>
		<ForgotPassword
			rt-if="this.current_route_name === 'ForgotPassword'"
		></ForgotPassword>
		<Leaders
			rt-if="this.current_route_name === 'Leaders'"
		></Leaders>
		<Settings
			rt-if="this.current_route_name === 'Settings'"
		></Settings>
		<GetStarted
			rt-if="this.current_route_name === 'GetStarted'"
		></GetStarted>
		<Travel
			rt-if="this.current_route_name === 'Travel'"
		></Travel>
		<Home
			rt-if="this.current_route_name === 'Home'"
		></Home>
		<Food
			rt-if="this.current_route_name === 'Food'"
		></Food>
		<Shopping
			rt-if="this.current_route_name === 'Shopping'"
		></Shopping>
		<Footprint
			rt-if="this.current_route_name === 'Footprint'"
		></Footprint>
		<TakeAction
			rt-if="this.current_route_name === 'TakeAction'"
		></TakeAction>
		<Missing
			rt-if="this.current_route_name === 'Missing'"
		></Missing>
	</main>
	<Graphs rt-if="this.graphing_route"></Graphs>
	<div class="cc_leaders">
		<Leaders rt-if="this.show_leaders_comparison"></Leaders>
	</div>
	<div id="forget_user_answers" rt-if="this.show_user_answers_reset">
		<a type="button"
			class="btn btn-default"
			data-toggle="modal" data-target="#forget_user_answers_content" href="#"><i class="fa fa-eraser" aria-hidden="true"></i></a>
	</div>
	<div rt-if="this.show_user_answers_reset" class="modal fade" id="forget_user_answers_content" tabindex="-1" role="dialog">
		<div class="modal-dialog modal-sm" role="document">
			<div class="modal-content">
				<div class="modal-body">
					<p>{this.t('get_started.restore_defaults')}</p>
					<p>
						<a type="button" class="btn btn-default btn-danger" onClick="{this.setUserAnswersToDefault.bind(this)}" data-dismiss="modal" >{this.t('get_started.restore_defaults_button')}</a>
					</p>
				</div>
			</div>
		</div>
	</div>
  <div rt-if="this.show_take_action_now" id="go_to_take_action" class="fixed-sidebar">
	    <button onClick="{this.goToTakeAction.bind(this)}" class="btn btn-info btn-lg btn-block desktop">
	    	{this.t('Take action now')}
	    </button>
	    <button onClick="{this.goToTakeAction.bind(this)}" class="btn btn-info btn-block mobile">
	    	{this.t('Take action now')}
	    </button>
  </div>
</div>
